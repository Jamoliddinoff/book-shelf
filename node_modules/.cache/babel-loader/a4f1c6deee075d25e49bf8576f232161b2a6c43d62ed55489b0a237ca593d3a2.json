{"ast":null,"code":"import _slicedToArray from\"/Users/macos/MyFolders/projects/smart-base-task/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import Container from\"../Container\";import{HomeLink,LanguageList,LanguageWrapper,LogoWrapper,Wrapper}from\"./style\";import{ReactComponent as GlobusIcon}from\"../../assets/icons/globus.svg\";import{ReactComponent as DowArrow}from\"../../assets/icons/down-arrow.svg\";import{ReactComponent as Logo}from\"../../assets/logo.svg\";import{useTranslation}from\"react-i18next\";import Text from\"../Text\";import HomeIcon from'../../assets/icons/homeIcon.png';import{useLocation}from\"react-router-dom\";import{useDispatch,useSelector}from\"react-redux\";import{setLang}from\"../../store/languageSlice\";import FilterDropdown from\"../FilterDropdown\";import useScreenSize from\"../../hooks/useScreenSize\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var languagesList=[{id:1,name:'UZ',code:'uz'},{id:2,name:'RU',code:'ru'},{id:3,name:'EN',code:'en'}];var Navbar=function Navbar(){var _useLocation;var _useTranslation=useTranslation(),t=_useTranslation.t,i18n=_useTranslation.i18n;var dispatch=useDispatch();var location=(_useLocation=useLocation())===null||_useLocation===void 0?void 0:_useLocation.pathname;var getLang=JSON.parse(localStorage.getItem('lang'));var initialLang=languagesList.find(function(item){return item.code===getLang;});var _useState=useState(0),_useState2=_slicedToArray(_useState,2),languageModal=_useState2[0],setLanguageModal=_useState2[1];var _useState3=useState(initialLang?initialLang:languagesList[0]),_useState4=_slicedToArray(_useState3,2),languageItem=_useState4[0],setLanguageItem=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),searchTerm=_useState6[0],setSearchTerm=_useState6[1];var _useScreenSize=useScreenSize(),width=_useScreenSize.width;var countries=useSelector(function(store){return store.lang.countries;}).map(function(item){return{value:item.id,label:\"\".concat(item.country,\", \").concat(item.capital)};});var handleLang=function handleLang(item){localStorage.setItem('lang',JSON.stringify(item.code));i18n.changeLanguage(item.code);dispatch(setLang(item.code));setLanguageItem(item);setLanguageModal(false);};var filteredItems=countries.filter(function(item){return item.label.toLowerCase().includes(searchTerm.toLowerCase());});return/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsxs(Wrapper,{children:[/*#__PURE__*/_jsxs(\"div\",{className:'justify-center',children:[/*#__PURE__*/_jsx(LogoWrapper,{children:/*#__PURE__*/_jsx(Logo,{})}),location!=='/'?/*#__PURE__*/_jsxs(HomeLink,{to:\"/\",children:[/*#__PURE__*/_jsx(\"img\",{src:HomeIcon,alt:'home-icon'}),/*#__PURE__*/_jsx(Text,{size:width>480?24:18,color:'#000',weight:'600',children:t(\"home\")})]}):null]}),location==='/'&&width>480?/*#__PURE__*/_jsx(\"div\",{style:{marginLeft:30},children:/*#__PURE__*/_jsx(FilterDropdown,{options:filteredItems,label:t(\"search\"),onChange:function onChange(ev){return setSearchTerm(ev);}})}):null,/*#__PURE__*/_jsxs(LanguageWrapper,{onClick:function onClick(){return setLanguageModal(!languageModal);},children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(GlobusIcon,{})}),/*#__PURE__*/_jsx(Text,{color:'#000',children:languageItem.name}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:5},children:/*#__PURE__*/_jsx(DowArrow,{})}),languageModal?/*#__PURE__*/_jsx(LanguageList,{children:languagesList.map(function(item){return/*#__PURE__*/_jsx(\"div\",{style:{background:item.id===languageItem.id&&'#f6f6f6'},onClick:function onClick(){return handleLang(item);},children:item.name},item.id);})}):null]})]})});};export default Navbar;","map":{"version":3,"names":["React","useState","Container","HomeLink","LanguageList","LanguageWrapper","LogoWrapper","Wrapper","ReactComponent","GlobusIcon","DowArrow","Logo","useTranslation","Text","HomeIcon","useLocation","useDispatch","useSelector","setLang","FilterDropdown","useScreenSize","jsx","_jsx","jsxs","_jsxs","languagesList","id","name","code","Navbar","_useLocation","_useTranslation","t","i18n","dispatch","location","pathname","getLang","JSON","parse","localStorage","getItem","initialLang","find","item","_useState","_useState2","_slicedToArray","languageModal","setLanguageModal","_useState3","_useState4","languageItem","setLanguageItem","_useState5","_useState6","searchTerm","setSearchTerm","_useScreenSize","width","countries","store","lang","map","value","label","concat","country","capital","handleLang","setItem","stringify","changeLanguage","filteredItems","filter","toLowerCase","includes","children","className","to","src","alt","size","color","weight","style","marginLeft","options","onChange","ev","onClick","marginTop","background"],"sources":["/Users/macos/MyFolders/projects/smart-base-task/src/companents/navbar/index.js"],"sourcesContent":["import React, {useState} from 'react';\nimport Container from \"../Container\";\nimport {HomeLink, LanguageList, LanguageWrapper, LogoWrapper, Wrapper} from \"./style\";\nimport {ReactComponent as GlobusIcon} from \"../../assets/icons/globus.svg\";\nimport {ReactComponent as DowArrow} from \"../../assets/icons/down-arrow.svg\";\nimport {ReactComponent as Logo} from \"../../assets/logo.svg\";\nimport {useTranslation} from \"react-i18next\";\nimport Text from \"../Text\";\nimport HomeIcon from '../../assets/icons/homeIcon.png'\nimport {useLocation} from \"react-router-dom\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {setLang} from \"../../store/languageSlice\";\nimport FilterDropdown from \"../FilterDropdown\";\nimport useScreenSize from \"../../hooks/useScreenSize\";\n\nconst languagesList = [\n    {id:1,name: 'UZ', code: 'uz'},\n    {id:2,name: 'RU', code: 'ru'},\n    {id:3,name: 'EN', code: 'en'},\n]\n\nconst Navbar = () => {\n    const { t,i18n } = useTranslation();\n    const dispatch = useDispatch();\n    const location = useLocation()?.pathname;\n    const getLang = JSON.parse(localStorage.getItem('lang'));\n    const initialLang = languagesList.find(item => item.code === getLang);\n    const [languageModal,setLanguageModal]= useState(0);\n    const [languageItem,setLanguageItem] =  useState(initialLang?initialLang:languagesList[0])\n    const [searchTerm, setSearchTerm] = useState('');\n    const {width} = useScreenSize()\n    const countries = useSelector(store => store.lang.countries)\n        .map(item =>{\n            return {\n                value: item.id,\n                label: `${item.country}, ${item.capital}`\n             }\n        })\n\n\n    const handleLang = (item) => {\n        localStorage.setItem('lang',JSON.stringify(item.code))\n        i18n.changeLanguage(item.code)\n        dispatch(setLang(item.code))\n        setLanguageItem(item);\n        setLanguageModal(false);\n    }\n    const filteredItems = countries.filter(item =>\n        item.label.toLowerCase().includes(searchTerm.toLowerCase())\n    );\n\n    return (\n        <Container>\n            <Wrapper>\n                <div className={'justify-center'}>\n                    <LogoWrapper >\n                        <Logo/>\n                    </LogoWrapper>\n                    {location !== '/'\n                        ? <HomeLink to={\"/\"}>\n                            <img src={HomeIcon} alt={'home-icon'}/>\n                            <Text size={width > 480 ? 24 : 18} color={'#000'} weight={'600'}>{t(\"home\")}</Text>\n                          </HomeLink>\n                        :null\n                    }\n                </div>\n                {location === '/' && width > 480 ? <div style={{marginLeft:30}}>\n                    <FilterDropdown\n                        options={filteredItems}\n                        label={t(\"search\")}\n                        onChange={ev=>setSearchTerm(ev)}\n                    />\n                </div> : null}\n                <LanguageWrapper onClick={()=>setLanguageModal(!languageModal)}>\n                    <div><GlobusIcon/></div>\n                    <Text color={'#000'}>{languageItem.name}</Text>\n                    <div style={{marginTop:5}} ><DowArrow/></div>\n                    {languageModal ? <LanguageList>\n                        {languagesList.map(item=>(\n                            <div\n                                key={item.id}\n                                style={{background: item.id === languageItem.id && '#f6f6f6'}}\n                                onClick={()=>handleLang(item)}>\n                                {item.name}\n                            </div>\n                        ))}\n                    </LanguageList>:null}\n                </LanguageWrapper>\n            </Wrapper>\n        </Container>\n    );\n};\n\nexport default Navbar;\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}